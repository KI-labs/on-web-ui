[{"friendlyName":"Add Hotspare","injectableName":"Task.Add.Hotspare","implementsTask":"Task.Base.Add.Hotspare","options":{"username":null,"password":null,"volumeId":null,"driveId":null,"hotspareType":"ghs","ipAddress":null},"properties":{}},{"friendlyName":"Add Volume","injectableName":"Task.Add.Volume","implementsTask":"Task.Base.Add.Volume","options":{"username":null,"password":null,"drives":null,"raidLevel":null,"name":null,"sizeInBytes":null,"ipAddress":null},"properties":{}},{"friendlyName":"Analyze Esx Repository","injectableName":"Task.Os.Esx.Analyze.Repo","implementsTask":"Task.Base.Os.Analyze.Repo","options":{"osName":"ESXi","repo":"{{file.server}}/esxi/{{options.version}}"},"properties":{}},{"friendlyName":"Boot LiveCD","injectableName":"Task.Os.Boot.LiveCD","implementsTask":"Task.Base.Os.Install","options":{"profile":"boot-livecd.ipxe","version":"livecd","repo":"{{file.server}}/LiveCD/{{options.version}}"},"properties":{"os":{"linux":{"distribution":"livecd"}}}},{"friendlyName":"Boot Profile","injectableName":"Task.BootProfile","implementsTask":"Task.Base.BootProfile","options":{},"properties":{}},{"friendlyName":"Bootstrap Rancher","injectableName":"Task.Linux.Bootstrap.Rancher","implementsTask":"Task.Base.Linux.Bootstrap","options":{"kernelFile":"vmlinuz-1.2.0-rancher","initrdFile":"initrd-1.2.0-rancher","dockerFile":"discovery.docker.tar.xz","kernelUri":"{{ file.server }}/common/{{ options.kernelFile }}","initrdUri":"{{ file.server }}/common/{{ options.initrdFile }}","dockerUri":"{{ file.server }}/common/{{ options.dockerFile }}","profile":"rancherOS.ipxe","comport":"ttyS0"},"properties":{"os":{"linux":{"distribution":"rancher","release":"1.2.0","Linux":"4.9.78"}}}},{"friendlyName":"Bootstrap Ubuntu","injectableName":"Task.Linux.Bootstrap.Ubuntu","implementsTask":"Task.Base.Linux.Bootstrap","options":{"kernelFile":"vmlinuz-3.16.0-25-generic","initrdFile":"initrd.img-3.16.0-25-generic","basefsFile":"base.trusty.3.16.0-25-generic.squashfs.img","overlayfsFile":"discovery.overlay.cpio.gz","kernelUri":"{{ file.server }}/common/{{ options.kernelFile }}","initrdUri":"{{ file.server }}/common/{{ options.initrdFile }}","basefsUri":"{{ file.server }}/common/{{ options.basefsFile }}","overlayfsUri":"{{ file.server }}/common/{{ options.overlayfsFile }}","profile":"linux.ipxe","comport":"ttyS0"},"properties":{"os":{"linux":{"distribution":"ubuntu","release":"trusty","kernel":"3.16.0-25-generic"}}}},{"friendlyName":"Bootstrap WinPE","injectableName":"Task.WinPE.Bootstrap","implementsTask":"Task.Base.WinPE.Bootstrap","options":{"profile":"winpe.ipxe"},"properties":{}},{"friendlyName":"Catalog ami","injectableName":"Task.Catalog.ami","implementsTask":"Task.Base.Linux.Catalog","options":{"commands":["cd /opt/ami; sudo ./afulnx_64 /S"]},"properties":{"catalog":{"type":"ami"}}},{"friendlyName":"Catalog dmi","injectableName":"Task.Catalog.dmi","implementsTask":"Task.Base.Linux.Catalog","options":{"commands":["sudo dmidecode"]},"properties":{"catalog":{"type":"dmi"}}},{"friendlyName":"catalog dpkg","injectableName":"Task.Catalog.Dpkg","implementsTask":"Task.Base.Ssh.Command","options":{"commands":[{"catalog":{"source":"dpkg","format":"json"},"command":" sudo echo '['; dpkg-query -W -f='{\"package\":\"${binary:Package}\",\"version\":\"${source:Version}\", \"status\":\"${db:Status-Abbrev}\", \"summary\": \"${binary:Summary}\"},' | sed '$s/.$//'; echo ']';"}]},"properties":{}},{"friendlyName":"Catalog Drive IDs","injectableName":"Task.Catalog.Drive.Id","implementsTask":"Task.Base.Linux.Catalog","options":{"commands":[{"command":"sudo node get_driveid.js","downloadUrl":"{{ api.templates }}/get_driveid.js?nodeId={{ task.nodeId }}"}]},"properties":{"catalog":{"type":"driveId"}}},{"friendlyName":"Catalog flashupdt","injectableName":"Task.Catalog.flashupdt","implementsTask":"Task.Base.Linux.Catalog","options":{"commands":["sudo /opt/intel/flashupdt -i"]},"properties":{"catalog":{"type":"flashupdt"}}},{"friendlyName":"Catalog Ip","injectableName":"Task.Ssh.Catalog.Ip","implementsTask":"Task.Base.Ssh.Catalog","options":{"commands":[{"command":"sudo ip -d addr show; sudo ip -d link show"}]},"properties":{}},{"friendlyName":"Catalog Snmp","injectableName":"Task.Snmp.Catalog","implementsTask":"Task.Base.Snmp.Catalog","options":{},"properties":{}},{"friendlyName":"Catalog bmc","injectableName":"Task.Catalog.bmc","implementsTask":"Task.Base.Linux.Catalog","options":{"commands":[{"command":"sudo ipmitool lan print","acceptedResponseCodes":[1]},"sudo ipmitool sel","sudo ipmitool sel list -c","sudo ipmitool mc info",{"command":"sudo ipmitool user summary 1","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 1","acceptedResponseCodes":[1]},"sudo ipmitool fru",{"command":"sudo ipmitool lan print 2","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 2","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 2","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 3","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 3","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 3","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 4","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 4","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 4","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 5","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 5","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 5","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 6","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 6","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 6","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 7","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 7","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 7","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 8","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 8","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 8","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 9","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 9","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 9","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 10","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 10","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 10","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 11","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 11","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 11","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 12","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 12","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 12","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 13","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 13","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 13","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 14","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 14","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 14","acceptedResponseCodes":[1]},{"command":"sudo ipmitool lan print 15","acceptedResponseCodes":[1]},{"command":"sudo ipmitool user summary 15","acceptedResponseCodes":[1]},{"command":"sudo ipmitool -c user list 15","acceptedResponseCodes":[1]}]},"properties":{"catalog":{"type":"bmc"}}},{"friendlyName":"Catalog LLDP","injectableName":"Task.Catalog.LLDP","implementsTask":"Task.Base.Linux.Catalog","options":{"commands":["sudo /usr/sbin/lldpcli show neighbor -f keyvalue"]},"properties":{"catalog":{"type":"lldp"}}},{"friendlyName":"Local DMI Catalog","injectableName":"Task.Catalog.Local.DMI","implementsTask":"Task.Base.Local.Catalog","options":{"commands":["sudo dmidecode"]},"properties":{"catalog":{"type":"dmi"}}},{"friendlyName":"Local LLDP Catalog","injectableName":"Task.Catalog.Local.LLDP","implementsTask":"Task.Base.Local.Catalog","options":{"commands":["sudo /usr/sbin/lldpcli show neighbor -f keyvalue"]},"properties":{"catalog":{"type":"lldp"}}},{"friendlyName":"Catalog lsall","injectableName":"Task.Catalog.lsall","implementsTask":"Task.Base.Linux.Catalog","options":{"commands":["sudo lspci -nn -vmm","sudo lshw -json","sudo lsblk -o KNAME,TYPE,ROTA; echo BREAK; sudo lsscsi --size"]},"properties":{"catalog":{"type":"lsall"}}},{"friendlyName":"Catalog megaraid","injectableName":"Task.Catalog.megaraid","implementsTask":"Task.Base.Linux.Catalog","options":{"adapter":"0","commands":["sudo /opt/MegaRAID/storcli/storcli64 /c{{ options.adapter }} show all J","sudo /opt/MegaRAID/storcli/storcli64 show ctrlcount J","sudo /opt/MegaRAID/storcli/storcli64 /c{{ options.adapter }} /eall /sall show all J","sudo /opt/MegaRAID/storcli/storcli64 /c{{ options.adapter }} /vall show all J"]},"properties":{"catalog":{"type":"megaraid"}}},{"friendlyName":"Catalog mgmt bmc","injectableName":"Task.Catalog.Mgmt.bmc","implementsTask":"Task.Base.Ipmi.Catalog","options":{"commands":[{"command":"lan print","acceptedResponseCodes":[1]},"sel","sel list -c","mc info",{"command":"user summary 1","acceptedResponseCodes":[1]},{"command":"-c user list 1","acceptedResponseCodes":[1]},"fru",{"command":"lan print 2","acceptedResponseCodes":[1]},{"command":"user summary 2","acceptedResponseCodes":[1]},{"command":"-c user list 2","acceptedResponseCodes":[1]},{"command":"lan print 3","acceptedResponseCodes":[1]},{"command":"user summary 3","acceptedResponseCodes":[1]},{"command":"-c user list 3","acceptedResponseCodes":[1]},{"command":"lan print 4","acceptedResponseCodes":[1]},{"command":"user summary 4","acceptedResponseCodes":[1]},{"command":"-c user list 4","acceptedResponseCodes":[1]},{"command":"lan print 5","acceptedResponseCodes":[1]},{"command":"user summary 5","acceptedResponseCodes":[1]},{"command":"-c user list 5","acceptedResponseCodes":[1]},{"command":"lan print 6","acceptedResponseCodes":[1]},{"command":"user summary 6","acceptedResponseCodes":[1]},{"command":"-c user list 6","acceptedResponseCodes":[1]},{"command":"lan print 7","acceptedResponseCodes":[1]},{"command":"user summary 7","acceptedResponseCodes":[1]},{"command":"-c user list 7","acceptedResponseCodes":[1]},{"command":"lan print 8","acceptedResponseCodes":[1]},{"command":"user summary 8","acceptedResponseCodes":[1]},{"command":"-c user list 8","acceptedResponseCodes":[1]},{"command":"lan print 9","acceptedResponseCodes":[1]},{"command":"user summary 9","acceptedResponseCodes":[1]},{"command":"-c user list 9","acceptedResponseCodes":[1]},{"command":"lan print 10","acceptedResponseCodes":[1]},{"command":"user summary 10","acceptedResponseCodes":[1]},{"command":"-c user list 10","acceptedResponseCodes":[1]},{"command":"lan print 11","acceptedResponseCodes":[1]},{"command":"user summary 11","acceptedResponseCodes":[1]},{"command":"-c user list 11","acceptedResponseCodes":[1]},{"command":"lan print 12","acceptedResponseCodes":[1]},{"command":"user summary 12","acceptedResponseCodes":[1]},{"command":"-c user list 12","acceptedResponseCodes":[1]},{"command":"lan print 13","acceptedResponseCodes":[1]},{"command":"user summary 13","acceptedResponseCodes":[1]},{"command":"-c user list 13","acceptedResponseCodes":[1]},{"command":"lan print 14","acceptedResponseCodes":[1]},{"command":"user summary 14","acceptedResponseCodes":[1]},{"command":"-c user list 14","acceptedResponseCodes":[1]},{"command":"lan print 15","acceptedResponseCodes":[1]},{"command":"user summary 15","acceptedResponseCodes":[1]},{"command":"-c user list 15","acceptedResponseCodes":[1]}]},"properties":{"catalog":{"type":"bmc"}}},{"friendlyName":"Catalog ohai","injectableName":"Task.Catalog.ohai","implementsTask":"Task.Base.Linux.Catalog","options":{"commands":["sudo ohai --directory /etc/ohai/plugins"]},"properties":{"catalog":{"type":"ohai"}}},{"friendlyName":"Catalog perccli","injectableName":"Task.Catalog.perccli","implementsTask":"Task.Base.Linux.Catalog","options":{"adapter":"0","commands":["sudo /opt/MegaRAID/perccli/perccli64 /c{{ options.adapter }} show all J","sudo /opt/MegaRAID/perccli/perccli64 show ctrlcount J","sudo /opt/MegaRAID/perccli/perccli64 /c{{ options.adapter }} /eall /sall show all J","sudo /opt/MegaRAID/perccli/perccli64 /c{{ options.adapter }} /vall show all J","sudo /opt/MegaRAID/perccli/perccli64 -v"]},"properties":{"catalog":{"type":"perccli"}}},{"friendlyName":"catalog rpm","injectableName":"Task.Catalog.Rpm","implementsTask":"Task.Base.Ssh.Command","options":{"commands":{"catalog":{"source":"rpm","format":"json"},"command":"sudo echo '['; rpm -qa --queryformat '\\{\"name\":\"%{NAME}\",\"version\":\"%{VERSION}\",\"release\":\"%{RELEASE}\",\"summary\":\"%{SUMMARY}\" \\},' | sed '$s/.$//'; echo ']'"}},"properties":{}},{"friendlyName":"Catalog S.M.A.R.T","injectableName":"Task.Catalog.smart","implementsTask":"Task.Base.Linux.Catalog","options":{"commands":[{"command":"sudo bash get_smart.sh","downloadUrl":"{{ api.templates }}/get_smart.sh?nodeId={{ task.nodeId }}"}]},"properties":{"catalog":{"type":"smart"}}},{"friendlyName":"Clear Sel Via Sel Usage","injectableName":"Task.Clear.Sel.By.Usage","implementsTask":"Task.Base.Clear.Sel.By.Usage","options":{},"properties":{}},{"friendlyName":"Clear the System Event Log","injectableName":"Task.Obm.Node.ClearSEL","implementsTask":"Task.Base.Obm.Node","options":{"action":"clearSEL"},"properties":{}},{"friendlyName":"Clear Ipmi Watchdog","injectableName":"Task.Clear.Ipmi.Watchdog","implementsTask":"Task.Base.Obm.Node","options":{"action":"clearWatchDog"},"properties":{"power":{}}},{"friendlyName":"Evaluate Condition","injectableName":"Task.Evaluate.Condition","implementsTask":"Task.Base.Evaluate.Condition","options":{},"properties":{}},{"friendlyName":"Copy Public Key","injectableName":"Task.Ssh.CopyKey","implementsTask":"Task.Base.Ssh.CopyKey","options":{},"properties":{}},{"friendlyName":"Create Default Pollers","injectableName":"Task.Pollers.CreateDefault","implementsTask":"Task.Base.Pollers.CreateDefault","options":{"nodeId":null,"pollers":[]},"properties":{}},{"friendlyName":"Create IPMI OBM settings","injectableName":"Task.Obm.Ipmi.CreateSettings","implementsTask":"Task.Base.Obm.Ipmi.CreateSettings","options":{"ipmichannel":null,"user":"{{ context.user || monorail }}","password":"{{ context.password  }}"},"properties":{}},{"friendlyName":"Create RAID via Storcli","injectableName":"Task.Raid.Create.MegaRAID","implementsTask":"Task.Base.Linux.Commands","options":{"createDefault":true,"controller":0,"raidList":[],"path":"/opt/MegaRAID/storcli/storcli64","commands":["{{#options.createDefault}}sudo {{options.path}} /c{{options.controller}} add vd each type=raid0{{/options.createDefault}}{{^options.createDefault}}{{#options.raidList}}sudo {{options.path}} /c{{options.controller}} add vd type={{type}}{{#name}} name={{name}}{{/name}}{{#size}} size={{size}}{{/size}} drives={{enclosure}}:{{drives}}{{#drivePerArray}} PDPerArray={{drivePerArray}}{{/drivePerArray}};{{/options.raidList}}{{/options.createDefault}}"]},"properties":{}},{"friendlyName":"Create Default Pollers","injectableName":"Task.Pollers.Redfish.CreateDefault","implementsTask":"Task.Base.Pollers.Redfish.CreateDefault","options":{"nodeId":null,"pollers":[]},"properties":{}},{"friendlyName":"Delete RAID via Storcli","injectableName":"Task.Raid.Delete.MegaRAID","implementsTask":"Task.Base.Linux.Commands","options":{"deleteAll":true,"controller":0,"raidIds":[],"path":"/opt/MegaRAID/storcli/storcli64","commands":["{{#options.deleteAll}}sudo {{options.path}} /c{{options.controller}}/vall del force{{/options.deleteAll}}{{^options.deleteAll}}{{#options.raidIds}}sudo {{options.path}} /c{{options.controller}}/v{{.}} del force;{{/options.raidIds}}{{/options.deleteAll}}"]},"properties":{}},{"friendlyName":"Delete Volume","injectableName":"Task.Delete.Volume","implementsTask":"Task.Base.Delete.Volume","options":{"username":null,"password":null,"volumeId":null,"ipAddress":null},"properties":{}},{"friendlyName":"Dell Racadm Control","injectableName":"Task.Dell.Racadm.Control","implementsTask":"Task.Base.Dell.Racadm.Control","options":{"forceReboot":true},"properties":{}},{"friendlyName":"dell racadm get bios","injectableName":"Task.Dell.Racadm.GetBIOS","implementsTask":"Task.Base.Dell.Racadm.Control","options":{"action":"getBiosConfig"},"properties":{}},{"friendlyName":"dell racadm get config catalog","injectableName":"Task.Dell.Racadm.GetConfigCatalog","implementsTask":"Task.Base.Dell.Racadm.Catalog","options":{"action":"getConfigCatalog"},"properties":{}},{"friendlyName":"dell racadm get firmware list catalog","injectableName":"Task.Dell.Racadm.GetFirmwareListCatalog","implementsTask":"Task.Base.Dell.Racadm.Catalog","options":{"action":"getSoftwareList"},"properties":{}},{"friendlyName":"dell racadm reset components","injectableName":"Task.Dell.Racadm.ResetComponents","implementsTask":"Task.Base.Dell.Racadm.Control","options":{"action":"resetComponents"},"properties":{}},{"friendlyName":"dell racadm set bios","injectableName":"Task.Dell.Racadm.SetBIOS","implementsTask":"Task.Base.Dell.Racadm.Control","options":{"action":"setBiosConfig"},"properties":{}},{"friendlyName":"dell racadm update firmware image","injectableName":"Task.Dell.Racadm.Update.Firmware","implementsTask":"Task.Base.Dell.Racadm.Control","options":{"action":"updateFirmware","forceReboot":true},"properties":{}},{"friendlyName":"Dell Wsman GetXml for Add Hotspare","injectableName":"Task.Dell.Wsman.Add.Hotspare.GetXml","implementsTask":"Task.Base.Dell.Wsman.GetXml","options":{"shutdownType":0},"properties":{}},{"friendlyName":"Dell Wsman UpdateXml for Add Hotspare","injectableName":"Task.Dell.Wsman.Add.Hotspare.UpdateXml","implementsTask":"Task.Base.Dell.Wsman.Add.Hotspare.UpdateXml","options":{},"properties":{}},{"friendlyName":"Dell Wsman GetXml for add volume","injectableName":"Task.Dell.Wsman.Add.Volume.GetXml","implementsTask":"Task.Base.Dell.Wsman.GetXml","options":{"shutdownType":0,"ipAddress":"","username":"","password":""},"properties":{}},{"friendlyName":"Dell Wsman UpdateXml for add volume","injectableName":"Task.Dell.Wsman.Add.Volume.UpdateXml","implementsTask":"Task.Base.Dell.Wsman.Add.Volume.UpdateXml","options":{"raidLevel":0,"stripeSize":128,"writePolicy":"WriteBack"},"properties":{}},{"friendlyName":"Wsman Config Services","injectableName":"Task.Dell.Wsman.Config.Services","implementsTask":"Task.Base.Dell.Wsman.Config.Services","options":{"configServer":"127.0.0.1:9600","verifySSL":false,"_taskTimeout":900000,"domain":"wsman"},"properties":{}},{"friendlyName":"Dell Wsman Configure Bios","injectableName":"Task.Dell.Wsman.ConfigureBios","implementsTask":"Task.Base.Dell.Wsman.ConfigureBios","options":{"attributes":null,"biosBootSequenceOrder":[""],"hddSequenceOrder":[""],"enableBootDevices":[""],"disableBootDevices":[""],"rebootJobType":1},"properties":{}},{"friendlyName":"Dell Wsman Configure Idrac","injectableName":"Task.Dell.Wsman.Configure.Idrac","implementsTask":"Task.Base.Dell.Wsman.Configure.Idrac","options":{},"properties":{}},{"friendlyName":"Dell Wsman Configure Redfish Alert","injectableName":"Task.Dell.Wsman.Configure.Redfish.Alert","implementsTask":"Task.Base.Dell.Wsman.Configure.Redfish.Alert","options":{},"properties":{}},{"friendlyName":"dell wsman create repository ","injectableName":"Task.Dell.Wsman.Create.Repo","implementsTask":"Task.Base.Dell.Wsman.Create.Repo","options":{"action":"createRepository","catalogFilePath":null,"targetFilePath":null,"updates":null},"properties":{}},{"friendlyName":"Dell Wsman GetXml for delete volume","injectableName":"Task.Dell.Wsman.Delete.Volume.GetXml","implementsTask":"Task.Base.Dell.Wsman.GetXml","options":{"shutdownType":0,"ipAddress":"","username":"","password":""},"properties":{}},{"friendlyName":"Dell Wsman Update Xml For Delete Volume","injectableName":"Task.Dell.Wsman.Delete.Volume.UpdateXml","implementsTask":"Task.Base.Dell.Wsman.Delete.Volume.UpdateXml","options":{"shutdownType":0},"properties":{}},{"friendlyName":"Dell Wsman Discovery","injectableName":"Task.Dell.Wsman.Discovery","implementsTask":"Task.Base.Dell.Wsman.Discovery","options":{},"properties":{}},{"friendlyName":"dell wsman download catalog file","injectableName":"Task.Dell.Wsman.Download.Catalog","implementsTask":"Task.Base.Dell.Wsman.Download","options":{"action":"download","fileName":null,"fileURL":null,"targetLocation":null},"properties":{}},{"friendlyName":"Dell Wsman Export SCP","injectableName":"Task.Dell.Wsman.Export.SCP","implementsTask":"Task.Base.Dell.Wsman.Export.SCP","options":{"serverIP":null,"serverUsername":null,"serverPassword":null,"shareType":null,"shareAddress":null,"shareName":null,"fileName":null},"properties":{}},{"friendlyName":"dell wsman firmware collect ","injectableName":"Task.Dell.Wsman.Firmware.Collect","implementsTask":"Task.Base.Dell.Wsman.Firmware.Collect","options":{"action":"collectFirmware","catalogPath":null,"type":null,"updateableComponents":null},"properties":{}},{"friendlyName":"Wsman Client Bios","injectableName":"Task.Dell.Wsman.GetBios","implementsTask":"Task.Base.Dell.Wsman.GetBios","options":{"target":"","verifySSL":false,"domain":"wsman"},"properties":{}},{"friendlyName":"Wsman Client Inventory","injectableName":"Task.Dell.Wsman.GetInventory","implementsTask":"Task.Base.Dell.Wsman.GetInventory","options":{"verifySSL":false,"_taskTimeout":900000,"domain":"wsman"},"properties":{}},{"friendlyName":"Dell Wsman Get System Configuration Components","injectableName":"Task.Dell.Wsman.GetSystemConfigComponents","implementsTask":"Task.Base.Dell.Wsman.GetSystemConfigComponents","options":{"shutdownType":0,"componentNames":[]},"properties":{}},{"friendlyName":"Wsman Client Trap Config","injectableName":"Task.Dell.Wsman.GetTrapConfig","implementsTask":"Task.Base.Dell.Wsman.GetTrapConfig","options":{"target":null,"verifySSL":false,"domain":"wsman"},"properties":{}},{"friendlyName":"Dell Wsman Import SCP","injectableName":"Task.Dell.Wsman.Import.SCP","implementsTask":"Task.Base.Dell.Wsman.Import.SCP","options":{"serverIP":null,"serverUsername":null,"serverPassword":null,"shareType":null,"shareAddress":null,"shareName":null,"fileName":null,"shutdownType":null,"componentNames":null},"properties":{}},{"friendlyName":"dell wsman Os Deployment Create","injectableName":"Task.Dell.Wsman.Os.Create","implementsTask":"Task.Base.Dell.Wsman.Os.Create","options":{},"properties":{}},{"friendlyName":"dell wsman Os Deployment Deploy","injectableName":"Task.Dell.Wsman.Os.Deploy","implementsTask":"Task.Base.Dell.Wsman.Os.Deploy","options":{},"properties":{}},{"friendlyName":"Dell Wsman PostDiscovery","injectableName":"Task.Dell.Wsman.PostDiscovery","implementsTask":"Task.Base.Dell.Wsman.PostDiscovery","options":{"data":null,"credentials":{"user":null,"password":null}},"properties":{}},{"friendlyName":"dell wsman powerthermal monitoring","injectableName":"Task.Dell.Wsman.Powerthermal","implementsTask":"Task.Base.Dell.Wsman.PowerThermal","options":{"action":"powercapping","powerCap":null,"enableCapping":true},"properties":{}},{"friendlyName":"Dell Wsman RAID","injectableName":"Task.Dell.Wsman.RAID","implementsTask":"Task.Base.Dell.Wsman.RAID","options":{"shutdownType":0,"removeXmlFile":true,"ipAddress":"","username":"","password":""},"properties":{}},{"friendlyName":"Dell Wsman Reset Components","injectableName":"Task.Dell.Wsman.Reset.Components","implementsTask":"Task.Base.Dell.Wsman.Reset.Components","options":{},"properties":{}},{"friendlyName":"Dell Wsman Simple Update Firmware Task","injectableName":"Task.Dell.Wsman.Simple.Update.Firmware","implementsTask":"Task.Base.Dell.Wsman.Simple.Update.Firmware","options":{},"properties":{}},{"friendlyName":"dell wsman update firmware image","injectableName":"Task.Dell.Wsman.Update.Firmware","implementsTask":"Task.Base.Dell.Wsman.Update.Firmware","options":{},"properties":{}},{"friendlyName":"Wsman Update Lookups","injectableName":"Task.Wsman.Update.Lookups","implementsTask":"Task.Base.Wsman.Update.Lookups","options":{},"properties":{}},{"friendlyName":"Dell Wsman Update System Configuration Components","injectableName":"Task.Dell.Wsman.UpdateSystemConfigComponents","implementsTask":"Task.Base.Dell.Wsman.UpdateSystemConfigComponents","options":{"serverIP":null,"serverUsername":null,"serverPassword":null,"shareType":null,"shareAddress":null,"shareName":null,"fileName":null,"shutdownType":null,"serverComponents":null,"cleanup":null,"forceUpdate":null},"properties":{}},{"friendlyName":"Docker Reconciler Task","injectableName":"Task.Docker.Reconciler","implementsTask":"Task.Docker.Reconciler.Base","options":{},"properties":{}},{"friendlyName":"Docker Task","injectableName":"Task.Docker","implementsTask":"Task.Docker.Base","options":{},"properties":{}},{"friendlyName":"Download Files to node","injectableName":"Task.Linux.DownloadFiles","implementsTask":"Task.Base.Linux.Commands","options":{"downloadDir":"/opt/downloads","fileMd5Uri":"{{ api.files }}/{{ options.file }}/md5","fileUri":"{{ api.files }}/{{ options.file }}","outputPath":"{{ options.downloadDir }}/{{ options.file }}","commands":["curl --retry 3 {{ options.fileUri }} -o {{ options.outputPath }}","test `curl {{ options.fileMd5Uri }}` = \\\"`md5sum {{ options.outputPath }}| awk '{print $1}'`\\\""]},"properties":{}},{"friendlyName":"download http file","injectableName":"Task.Download.Http.File","implementsTask":"Task.Base.Download.Http.File","options":{"filePath":null,"serverFilePath":null},"properties":{}},{"friendlyName":"EMC Compose System","injectableName":"Task.Emc.Compose.System","implementsTask":"Task.Base.Emc.Compose.System","options":{"endpoints":null,"name":null,"action":"compose"},"properties":{}},{"friendlyName":"Update EMC firmware task","injectableName":"Task.Emc.Diag.Update.Firmware","implementsTask":"Task.Base.Emc.Diag.Update.Firmware","options":{},"properties":{}},{"friendlyName":"EMC Redfish Client Catalog","injectableName":"Task.Emc.Redfish.Catalog","implementsTask":"Task.Base.Emc.Redfish.Catalog","options":{},"properties":{}},{"friendlyName":"Send Finish Trigger","injectableName":"Task.Trigger.Send.Finish","implementsTask":"Task.Base.Trigger","options":{"triggerMode":"send","triggerType":"finish","triggerGroup":"default"},"properties":{}},{"friendlyName":"Flash Ami BIOS","injectableName":"Task.Linux.Flash.Ami.Bios","implementsTask":"Task.Base.Linux.Commands","options":{"downloadDir":"/opt/downloads","backupFile":"{{ context.ami.systemRomId }}.bin","commands":["cd /opt/ami; sudo ./afulnx_64 {{ options.backupFile }} /O","sudo curl -T /opt/ami/{{ options.backupFile }} {{ api.files }}/{{ task.nodeId }}-{{ options.backupFile }}","sudo mv {{ options.downloadDir }}/{{ options.file }} /opt/ami/{{ options.file }}","cd /opt/ami;sudo ./afulnx_64 {{ options.file }} /P /B /K /N /ME > /tmp/renasar-afu-flash.log;sleep 3;tail -n 100 /tmp/renasar-afu-flash.log"]},"properties":{"flash":{"type":"bios","vendor":"ami"}}},{"friendlyName":"Flash MegaRAID Controller","injectableName":"Task.Linux.Flash.LSI.MegaRAID","implementsTask":"Task.Base.Linux.Commands","options":{"downloadDir":"/opt/downloads","adapter":"0","commands":["sudo /opt/MegaRAID/storcli/storcli64 /c{{ options.adapter }} download file={{ options.downloadDir }}/{{ options.file }} noverchk","sudo /opt/MegaRAID/MegaCli/MegaCli64 -AdpSetProp -BatWarnDsbl 1 -a{{ options.adapter }}"]},"properties":{"flash":{"type":"storage","vendor":{"lsi":{"controller":"megaraid"}}}}},{"friendlyName":"Flash Quanta BMC","injectableName":"Task.Linux.Flash.Quanta.Bmc","implementsTask":"Task.Base.Linux.Commands","options":{"downloadDir":"/opt/downloads","commands":["sudo /opt/socflash/socflash_x64 -b /opt/uploads/bmc-backup.bin","sudo curl -T /opt/uploads/bmc-backup.bin {{ api.files }}/{{ task.nodeId }}-bmc-backup.bin","sudo /opt/socflash/socflash_x64 -s option=x flashtype=2 if={{ options.downloadDir }}/{{ options.file }}","sleep 90"]},"properties":{"flash":{"type":"bmc","vendor":{"quanta":{}}}}},{"friendlyName":"Set Node Force Pxeboot","injectableName":"Task.Obm.Force.Pxe.Boot","implementsTask":"Task.Base.Obm.Node","options":{"action":"forceBootPxe"},"properties":{"power":{}}},{"friendlyName":"General Redfish Client Catalog","injectableName":"Task.General.Redfish.Catalog","implementsTask":"Task.Base.General.Redfish.Catalog","options":{},"properties":{"catalog":{"type":"redfish"}}},{"friendlyName":"Generate Enclosure","injectableName":"Task.Catalog.GenerateEnclosure","implementsTask":"Task.Base.Catalog.GenerateEnclosure","options":{"nodeId":null},"properties":{}},{"friendlyName":"Generate SKU","injectableName":"Task.Catalog.GenerateSku","implementsTask":"Task.Base.Catalog.GenerateSku","options":{"nodeId":null},"properties":{}},{"friendlyName":"Generate Tag","injectableName":"Task.Catalog.GenerateTag","implementsTask":"Task.Base.Catalog.GenerateTag","options":{"nodeIds":[]},"properties":{}},{"friendlyName":"Turn Off Node Identify LED","injectableName":"Task.Obm.Node.IdentifyOff","implementsTask":"Task.Base.Obm.Node","options":{"action":"identifyOff"},"properties":{}},{"friendlyName":"Get Switch Config","injectableName":"Task.Get.Switch.Config","implementsTask":"Task.Base.Rest.Catalog","options":{"endpoint":"{{options.endpoint}}","loginToken":"{{options.loginToken}}","url":"{{ server.onNetwork.url }}/switchConfig","method":"POST","headers":{"Authorization":"{{options.loginToken}}","Content-Type":"application/json"},"recvTimeoutMs":360000,"data":{"endpoint":"{{options.endpoint}}"},"source":"running-config"},"properties":{"catalog":{"type":"running-config"}}},{"friendlyName":"Install CentOS","injectableName":"Task.Os.Install.CentOS","implementsTask":"Task.Base.Os.Install","options":{"osType":"linux","profile":"install-centos.ipxe","installScript":"centos-ks","installScriptUri":"{{ api.templates }}/{{ options.installScript }}?nodeId={{ task.nodeId }}","hostname":"localhost","comport":"ttyS0","rackhdCallbackScript":"centos.rackhdcallback","repo":"{{file.server}}/centos/{{options.version}}/os/x86_64","rootPassword":"RackHDRocks!","remoteLogging":false,"progressMilestones":{"requestProfile":{"value":1,"description":"Enter ipxe and request OS installation profile"},"enterProfile":{"value":2,"description":"Enter profile, start to download installer"},"startInstaller":{"value":3,"description":"Start installer and prepare installation"},"preConfig":{"value":4,"description":"Enter Pre OS configuration"},"postConfig":{"value":5,"description":"Enter Post OS configuration"},"completed":{"value":6,"description":"Finished OS installation"}}},"properties":{"os":{"linux":{"distribution":"centos"}}}},{"friendlyName":"Get Switch Version","injectableName":"Task.Get.Switch.Version","implementsTask":"Task.Base.Rest.Catalog","options":{"endpoint":"{{options.endpoint}}","loginToken":"{{options.loginToken}}","url":"{{ server.onNetwork.url }}/switchVersion","method":"POST","headers":{"Authorization":"{{options.loginToken}}","Content-Type":"application/json"},"recvTimeoutMs":360000,"data":{"endpoint":"{{options.endpoint}}"},"source":"version"},"properties":{"catalog":{"type":"version"}}},{"friendlyName":"Blink Node Identify LED","injectableName":"Task.Obm.Node.IdentifyBlink","implementsTask":"Task.Base.Obm.Node","options":{"action":"identifyBlink"},"properties":{}},{"friendlyName":"get driveId catalog","injectableName":"Task.Get.DriveId.Catalog","implementsTask":"Task.Base.Get.Catalog.Values","options":{"requestedData":[{"source":"driveId","keys":{"driveId":"data"}}]},"properties":{}},{"friendlyName":"Turn on Node Identify LED","injectableName":"Task.Obm.Node.IdentifyOn","implementsTask":"Task.Base.Obm.Node","options":{"action":"identifyOn"},"properties":{}},{"friendlyName":"Install CoreOS","injectableName":"Task.Os.Install.CoreOS","implementsTask":"Task.Base.Os.Install","options":{"osType":"linux","profile":"install-coreos.ipxe","installScript":"install-coreos.sh","installScriptUri":"{{ api.templates }}/{{ options.installScript }}?nodeId={{ task.nodeId }}","comport":"ttyS0","hostname":"coreos-node","installDisk":"/dev/sda","repo":"{{file.server}}/coreos","version":"current","rootPassword":"RackHDRocks!","progressMilestones":{"requestProfile":{"value":1,"description":"Enter ipxe and request OS installation profile"},"enterProfile":{"value":2,"description":"Enter profile, start to download installer"},"startInstaller":{"value":3,"description":"Boot into installer"},"installToDisk":{"value":4,"description":"Install image to disk"},"completed":{"value":5,"description":"Finished OS installation"}}},"properties":{"os":{"linux":{"distribution":"coreos"}}}},{"friendlyName":"Install Debian/Ubuntu","injectableName":"Task.Os.Install.Debian","implementsTask":"Task.Base.Os.Install","options":{"osType":"linux","osName":"debian","profile":"install-debian.ipxe","installScript":"debian-preseed","installScriptUri":"{{ api.templates }}/{{ options.installScript }}?nodeId={{ task.nodeId }}","rackhdCallbackScript":"debian.rackhdcallback","hostname":"localhost","comport":"ttyS0","version":"stretch","repo":"{{file.server}}/{{options.osName}}","baseUrl":"dists/{{ options.version }}/main/installer-amd64/current/images/netboot/{{options.osName}}-installer/amd64","rootPassword":"RackHDRocks!","interface":"auto","installDisk":"/dev/sda","kvm":false,"kargs":{},"progressMilestones":{"requestProfile":{"value":1,"description":"Enter ipxe and request OS installation profile"},"enterProfile":{"value":2,"description":"Enter profile, start to download installer"},"startInstaller":{"value":3,"description":"Start installer and prepare installation"},"preConfig":{"value":4,"description":"Enter pre OS configuration"},"startPartition":{"value":5,"description":"Start partition"},"postConfig":{"value":6,"description":"Enter post OS configuration"},"completed":{"value":7,"description":"Finished OS installation"}}},"properties":{"os":{"linux":{"distribution":"debian"}}}},{"friendlyName":"Install Esx","injectableName":"Task.Os.Install.ESXi","implementsTask":"Task.Base.Os.Install","options":{"osType":"esx","profile":"install-esx.ipxe","installScript":"esx-ks","installScriptUri":"{{ api.templates }}/{{ options.installScript }}?nodeId={{ task.nodeId }}","rackhdCallbackScript":"esx.rackhdcallback","esxBootConfigTemplate":"esx-boot-cfg","esxBootConfigTemplateUri":"{{ api.templates }}/{{ options.esxBootConfigTemplate }}?nodeId={{ task.nodeId }}","comport":"com1","comportaddress":"0x3f8","gdbPort":"default","logPort":"com1","debugLogToSerial":"1","repo":"{{file.server}}/esxi/{{options.version}}","hostname":"localhost","rootPassword":"RackHDRocks!","kargs":{},"progressMilestones":{"requestProfile":{"value":1,"description":"Enter ipxe and request OS installation profile"},"enterProfile":{"value":2,"description":"Enter profile, start to download installer"},"startInstaller":{"value":3,"description":"Start installer and prepare installation"},"preConfig":{"value":4,"description":"Enter Pre OS configuration"},"postConfig":{"value":5,"description":"Enter Post OS configuration"},"completed":{"value":6,"description":"Finished OS installation"}}},"properties":{"os":{"hypervisor":{"type":"esx"}}}},{"friendlyName":"Install Photon OS","injectableName":"Task.Os.Install.PhotonOS","implementsTask":"Task.Base.Os.Install","options":{"osType":"linux","profile":"install-photon-os.ipxe","installScript":"photon-os-ks","installScriptUri":"{{ api.templates }}/{{ options.installScript }}?nodeId={{ task.nodeId }}","hostname":"localhost","comport":"ttyS0","rackhdCallbackScript":"photon-os.rackhdcallback","version":"1.0","repo":"{{file.server}}/photon/{{options.version}}","rootPassword":"RackHDRocks!","installDisk":"/dev/sda","installType":"minimal","progressMilestones":{"requestProfile":{"value":1,"description":"Enter ipxe and request OS installation profile"},"enterProfile":{"value":2,"description":"Enter profile, start to download installer"},"startInstaller":{"value":3,"description":"Start installer and prepare installation"},"postConfig":{"value":4,"description":"Enter post OS configuration"},"completed":{"value":5,"description":"Finished OS installation"}}},"properties":{"os":{"linux":{"distribution":"photon-os"}}}},{"friendlyName":"Install SUSE","injectableName":"Task.Os.Install.SUSE","implementsTask":"Task.Base.Os.Install","options":{"osType":"linux","profile":"install-suse.ipxe","installScript":"suse-autoinst.xml","installScriptUri":"{{ api.templates }}/{{ options.installScript }}?nodeId={{ task.nodeId }}","hostname":"localhost","comport":"ttyS0","repo":"{{file.server}}/distribution/{{options.version}}/repo/oss/","rootPassword":"RackHDRocks!","kargs":{},"progressMilestones":{"requestProfile":{"value":1,"description":"Enter ipxe and request OS installation profile"},"enterProfile":{"value":2,"description":"Enter profile, start to download installer"},"startInstaller":{"value":3,"description":"Start installer and prepare installation"},"preConfig":{"value":4,"description":"Enter Pre OS configuration"},"postPartitioning":{"value":5,"description":"Finished partitioning and mounting, start package installation"},"chroot":{"value":6,"description":"Finished package installation, start first boot"},"completed":{"value":7,"description":"Finished OS installation"}}},"properties":{"os":{"linux":{"distribution":"suse"}}}},{"friendlyName":"Install Windows","injectableName":"Task.Os.Install.Win","implementsTask":"Task.Base.Os.Install","options":{"osType":"windows","profile":"windows.ipxe","hostname":"localhost","domain":"rackhd","password":"RackHDRocks!","username":"onrack","smbRepo":"\\\\{{ config.apiServerAddress }}\\windowsServer2012","repo":"{{file.server}}/winpe","productkey":"XXXXX-XXXXX-XXXXX-XXXXX-XXXXX","firewallDisable":false,"progressMilestones":{"requestProfile":{"value":1,"description":"Enter ipxe and request OS installation profile"},"enterProfile":{"value":2,"description":"Enter profile, start to download WinPE"},"startInstaller":{"value":3,"description":"Boot WinPE"},"startSetup":{"value":4,"description":"Net use Windows Server 2012 and start setup.exe"},"completed":{"value":5,"description":"Finished OS installation"}}},"properties":{"os":{"windows":{"type":"server"}}}},{"friendlyName":"Cold reset BMC","injectableName":"Task.Obm.Node.McResetCold","implementsTask":"Task.Base.Obm.Node","options":{"action":"mcResetCold"},"properties":{}},{"friendlyName":"Configure Megaraid Controller","injectableName":"Task.Config.Megaraid","implementsTask":"Task.Base.Linux.Commands","options":{"hddArr":"{{ context.hddArr  }}","ssdStoragePoolArr":"{{ context.ssdStoragePoolArr  }}","ssdCacheCadeArr":"{{ context.ssdCacheCadeArr  }}","path":"{{ context.path  }}","controller":"{{ context.controller  }}","commands":[{"command":"sudo ./megaraid-config.sh","downloadUrl":"{{ api.templates }}/megaraid-config.sh?nodeId={{ task.nodeId }}"}]},"properties":{"os":{"linux":{"type":"microkernel"}}}},{"friendlyName":"Node Discovered Alerts","injectableName":"Task.Alert.Node.Discovered","implementsTask":"Task.Base.Alert.Node.Discovered","options":{},"properties":{}},{"friendlyName":"Node sleep","injectableName":"Task.Node.Sleep","implementsTask":"Task.Base.Linux.Commands","options":{"duration":10,"commands":["sudo sleep {{options.duration}}"]},"properties":{}},{"friendlyName":"noop","injectableName":"Task.noop","implementsTask":"Task.Base.noop","options":{"option1":1,"option2":2,"option3":3,"delay":0},"properties":{"noop":{"foo":"bar"}}},{"friendlyName":"Login on-network","injectableName":"Task.Post.Login.On-network","implementsTask":"Task.Base.Rest","options":{"url":"{{ server.onNetwork.url }}/login","method":"POST","headers":{"Content-Type":"application/json"},"recvTimeoutMs":360000,"data":{"username":"{{ server.onNetwork.username }}","password":"{{ server.onNetwork.password }}"}},"properties":{}},{"friendlyName":"Persist Poller Data Task","injectableName":"Task.Persist.Poller.Data","implementsTask":"Task.Base.Persist.Poller.Data","options":{"pollerId":null,"nodeId":null,"interval":null,"duration":null,"catalogName":null,"path":null},"properties":{}},{"friendlyName":"Power Off Node","injectableName":"Task.Obm.Node.PowerOff","implementsTask":"Task.Base.Obm.Node","options":{"action":"powerOff"},"properties":{"power":{}}},{"friendlyName":"Power On Node","injectableName":"Task.Obm.Node.PowerOn","implementsTask":"Task.Base.Obm.Node","options":{"action":"powerOn"},"properties":{"power":{}}},{"friendlyName":"Reboot Node via proc","injectableName":"Task.ProcShellReboot","implementsTask":"Task.Base.ShellReboot","options":{"rebootCode":1},"properties":{"power":{}}},{"friendlyName":"Provide Ami Catalog Bios Version","injectableName":"Task.Catalogs.Provide.Ami.BiosVersion","implementsTask":"Task.Base.Catalogs.ProvideValue","options":{"source":"ami","path":"systemRomId"},"properties":{"context":{"ami":"systemRomId"}}},{"friendlyName":"Reboot Node","injectableName":"Task.Obm.Node.Reboot","implementsTask":"Task.Base.Obm.Node","options":{"action":"reboot"},"properties":{"power":{"state":"reboot"}}},{"friendlyName":"Redfish Client Discovery List","injectableName":"Task.Redfish.Discovery.List","implementsTask":"Task.Base.Redfish.Discovery.List","options":{"username":null,"password":null,"verifySSL":false},"properties":{}},{"friendlyName":"Redfish Client Discovery","injectableName":"Task.Redfish.Discovery","implementsTask":"Task.Base.Redfish.Discovery","options":{"uri":null,"username":null,"password":null,"verifySSL":false},"properties":{}},{"friendlyName":"Redfish Ip Range Discovery","injectableName":"Task.Redfish.Ip.Range.Discovery","implementsTask":"Task.Base.Redfish.Ip.Range.Discovery","options":{"ranges":[{"startIp":null,"endIp":null,"credentials":{"userName":null,"password":null}}]},"properties":{}},{"friendlyName":"Reset Action Node","injectableName":"Task.Obm.Redfish.Actions.Reset","implementsTask":"Task.Base.Obm.Node","options":{"action":"powerOn","obmServiceName":"redfish-obm-service","force":false,"target":null},"properties":{"power":{}}},{"friendlyName":"Redfish Update Lookups","injectableName":"Task.Redfish.Update.Lookups","implementsTask":"Task.Base.Redfish.Update.Lookups","options":{},"properties":{}},{"friendlyName":"Reset Node","injectableName":"Task.Obm.Node.Reset","implementsTask":"Task.Base.Obm.Node","options":{"action":"reset"},"properties":{"power":{"state":"reset"}}},{"friendlyName":"Remove BMC Credentials","injectableName":"Task.Remove.BMC.Credentials","implementsTask":"Task.Base.Linux.Commands","options":{"users":[],"commands":[{"command":"sudo ./remove_bmc_credentials.sh","downloadUrl":"{{ api.templates }}/remove_bmc_credentials.sh?nodeId={{ task.nodeId }}"}]},"properties":{"os":{"linux":{"type":"microkernel"}}}},{"friendlyName":"Run EMC Diag","injectableName":"Task.Os.Run.Emc.Diag","implementsTask":"Task.Base.Os.Install","options":{"kernelFile":"vmlinuz-4.1.15-diag","initrdFile":"ramfs.lzma","kernelUri":"{{ file.server }}/common/{{ options.kernelFile }}","initrdUri":"{{ file.server }}/common/{{ options.initrdFile }}","profile":"linux-generic.ipxe","comport":"ttyS0","bootargs":"rw"},"properties":{"os":{"linux":{"distribution":"busybox"}}}},{"friendlyName":"Run Rest Command","injectableName":"Task.Run.Rest.Command","implementsTask":"Task.Base.Rest","options":{"url":null,"credential":null,"method":null,"headers":null,"data":null,"verifySSL":null,"recvTimeoutMs":null},"properties":{}},{"friendlyName":"Run UEFI Application","injectableName":"Task.Run.Uefi","implementsTask":"Task.Base.uefi","options":{"profile":"run-uefi.ipxe","repo":null,"uefitool":null,"args":""},"properties":{}},{"friendlyName":"Secure Erase Drive","injectableName":"Task.Drive.SecureErase","implementsTask":"Task.Base.SecureErase","options":{"eraseSettings":[],"baseUri":"{{ api.server }}"},"properties":{}},{"friendlyName":"Set AMI NVRAM variables","injectableName":"Task.Linux.SetNvram.Ami","implementsTask":"Task.Base.Linux.Commands","options":{"downloadDir":"/opt/downloads","commands":["sudo /opt/ami/SCELNX_64 /o /s biosNvramSettingsBackup","sudo curl -T ./biosNvramSettingsBackup {{ api.files }}/{{ task.nodeId }}-biosNvramSettingsBackup","sudo /opt/ami/SCELNX_64 /i /s {{ options.downloadDir }}/{{ options.file }}","sudo /opt/ami/SCELNX_64 /o /s biosNvramSettingsCurrent","sudo curl -T ./biosNvramSettingsCurrent {{ api.files }}/{{ task.nodeId }}-biosNvramSettingsCurrent"]},"properties":{"nvram":{"vendor":"ami"}}},{"friendlyName":"Set BMC Credentials","injectableName":"Task.Set.BMC.Credentials","implementsTask":"Task.Base.Linux.Commands","options":{"user":"{{ context.user || monorail }}","password":"{{ context.password  }}","commands":[{"command":"sudo ./set_bmc_credentials.sh","downloadUrl":"{{ api.templates }}/set_bmc_credentials.sh?nodeId={{ task.nodeId }}"}]},"properties":{"os":{"linux":{"type":"microkernel"}}}},{"friendlyName":"Set Node Diskboot","injectableName":"Task.Obm.Node.DiskBoot","implementsTask":"Task.Base.Obm.Node","options":{"action":"setBootDisk","obmServiceName":"ipmi-obm-service"},"properties":{"power":{}}},{"friendlyName":"Set Node Pxeboot","injectableName":"Task.Obm.Node.PxeBoot","implementsTask":"Task.Base.Obm.Node","options":{"action":"setBootPxe"},"properties":{"power":{}}},{"friendlyName":"Set Interfaces","injectableName":"Task.Set.Interfaces","implementsTask":"Task.Base.Linux.Commands","options":{"commands":[{"command":"sudo python set_interfaces.py","downloadUrl":"{{ api.templates }}/set_interfaces.py?nodeId={{ task.nodeId }}"}]},"properties":{"os":{"linux":{"type":"microkernel"}}}},{"friendlyName":"Sftp File","injectableName":"Task.Sftp","implementsTask":"Task.Base.Sftp","options":{"isPDU":null,"fileSource":null,"fileDestination":null,"timeout":null,"keepaliveInterval":null,"keepaliveCountMax":null},"properties":{}},{"friendlyName":"Shell commands","injectableName":"Task.Linux.Commands","implementsTask":"Task.Base.Linux.Commands","options":{"commands":[{"command":"sudo ls /var","catalog":{"format":"raw","source":"ls var"}},{"command":"sudo lshw -json","catalog":{"format":"json","source":"lshw user"}},{"command":"test","acceptedResponseCodes":[1]}]},"properties":{"commands":{}}},{"friendlyName":"Snmp Discovery Collect","injectableName":"Task.Snmp.Collect.Discovery","implementsTask":"Task.Base.Snmp.Collect","options":{"snmpQueryType":"bulkwalk","oids":["1"]},"properties":{}},{"friendlyName":"Snmp Node Update","injectableName":"Task.Snmp.Node.Update","implementsTask":"Task.Base.Node.Update","options":{},"properties":{}},{"friendlyName":"Ping Snmp","injectableName":"Task.Snmp.Ping","implementsTask":"Task.Base.Snmp.Collect","options":{"oids":["SNMPv2-MIB::sysDescr"]},"properties":{}},{"friendlyName":"Snmp Update Lookups","injectableName":"Task.Snmp.Update.Lookups","implementsTask":"Task.Base.Snmp.Update.Lookups","options":{},"properties":{}},{"friendlyName":"Soft Reset Node","injectableName":"Task.Obm.Node.Reset.Soft","implementsTask":"Task.Base.Obm.Node","options":{"action":"softReset"},"properties":{"power":{"state":"softReset"}}},{"friendlyName":"Ssh Exec","injectableName":"Task.Ssh.Exec","implementsTask":"Task.Base.Ssh.Command","options":{"commands":null},"properties":{}},{"friendlyName":"Ucs Catalog","injectableName":"Task.Ucs.Catalog","implementsTask":"Task.Base.UCS.Catalog","options":{},"properties":{}},{"friendlyName":"ucs Discovery","injectableName":"Task.Ucs.Discovery","implementsTask":"Task.Base.UCS.Discovery","options":{"uri":null,"ucs":null,"username":null,"password":null,"verifySSL":false},"properties":{}},{"friendlyName":"ucs Poller","injectableName":"Task.Ucs.Poller","implementsTask":"Task.Base.Ucs","options":{},"properties":{}},{"friendlyName":"Ucs Service Profile Discovery","injectableName":"Task.Ucs.Service.Profile.Discovery","implementsTask":"Task.Base.UCS.Service.Profile.Discovery","options":{"uri":null,"ucs":null,"username":null,"password":null,"verifySSL":false},"properties":{}},{"friendlyName":"Post Update Switch Firmware","injectableName":"Task.Post.Update.Switch","implementsTask":"Task.Base.Rest","options":{"endpoint":"{{options.endpoint}}","switchModel":"{{options.switchModel}}","firmwareImages":"{{options.firmwareImages}}","loginToken":"{{options.loginToken}}","url":"{{ server.onNetwork.url }}/updateSwitch","method":"POST","headers":{"Authorization":"{{options.loginToken}}","Content-Type":"application/json"},"recvTimeoutMs":360000,"data":{"endpoint":"{{options.endpoint}}","firmwareImages":"{{options.firmwareImages}}","switchModel":"{{options.switchModel}}"}},"properties":{}},{"friendlyName":"Validate Ssh","injectableName":"Task.Ssh.Validation","implementsTask":"Task.Base.Ssh.Validation","options":{"timeout":null,"retries":null,"backoffDelay":null,"users":null},"properties":{}},{"friendlyName":"Completion URI Trigger","injectableName":"Task.Wait.Completion.Uri","implementsTask":"Task.Base.Wait.Completion.Uri","options":{"completionUri":"renasar-ansible.pub"},"properties":{}},{"friendlyName":"Notification Trigger","injectableName":"Task.Wait.Notification","implementsTask":"Task.Base.Wait.Notification","options":{},"properties":{}},{"friendlyName":"Wait for SEL events","injectableName":"Task.Wait.Sel.Events","implementsTask":"Task.Base.Wait.Sel.Events","options":{"alertFilters":null,"pollInterval":null},"properties":{}},{"friendlyName":"Add tag","injectableName":"Task.Init.AddTag","implementsTask":"Task.Base.Linux.Commands","options":{"make_target":"","commands":[{"downloadUrl":"{{ api.templates }}/Makefile?nodeId={{ task.nodeId }}","command":"make {{ options.make_target }} NODE_ID={{ task.nodeId }} RHD_HOST={{ options.rhd_host }}"}],"rhd_host":"172.16.4.9:8080"},"properties":{"commands":{}}},{"friendlyName":"Check bios version","injectableName":"Task.Init.BiosCheck","implementsTask":"Task.Base.Linux.Commands","options":{"commands":[{"command":"bash bios_check.sh","catalog":{"source":"bios-check-response","format":"raw"},"downloadUrl":"{{ api.templates }}/bios_check.sh?nodeId={{ task.nodeId }}"}],"bios_desired_version":"4.0.6"},"properties":{"commands":{}}},{"friendlyName":"Configure disks to JBOD mode","injectableName":"Task.Init.ConfigureJBOD","implementsTask":"Task.Base.Linux.Commands","options":{"path":"/opt/MegaRAID/storcli/storcli64","commands":[{"catalog":{"source":"configure-jbod-slot-0","format":"json"},"command":"{{options.path}} /c0 /e62 /s0 set JBOD j"},{"catalog":{"source":"configure-jbod-slot-1","format":"json"},"command":"{{options.path}} /c0 /e62 /s1 set JBOD j"},{"catalog":{"source":"configure-jbod-slot-2","format":"json"},"command":"{{options.path}} /c0 /e62 /s2 set JBOD j"},{"catalog":{"source":"configure-jbod-slot-3","format":"json"},"command":"{{options.path}} /c0 /e62 /s3 set JBOD j"},{"catalog":{"source":"configure-jbod-slot-4","format":"json"},"command":"{{options.path}} /c0 /e62 /s4 set JBOD j"},{"catalog":{"source":"configure-jbod-slot-5","format":"json"},"command":"{{options.path}} /c0 /e62 /s5 set JBOD j"},{"catalog":{"source":"jbod-config-output","format":"json"},"command":"{{options.path}} /c0 /eall /sall show j"}]},"properties":{}}]