<div class="container">
  <!--Krein: W/O div, No provider for ControlContainer!-->
  <form [formGroup]="settingFormGroup" (ngSubmit)="onSubmit()" [hidden]="submitted" novalidate>
    <section class="form-block compact">
      <div class="form-group">
        <label for="rackhdApi">RackHD Northbound API</label>
        <label for="rackhdApi"
          aria-haspopup="true"
          role="tooltip"
          class="tooltip tooltip-validation tooltip-sm tooltip-bottom-left"
          [class.invalid]="formClassInvalid('rackhdNorthboundApi')">
          <input type="text" id="rackhdApi"
            placeholder="127.0.0.1:9090/api/2.0"
            formControlName="rackhdNorthboundApi" >
          <span class="tooltip-content">
            Invalid Northbound API.
          </span>
        </label>
      </div>
      <div class="form-group">
        <label for="rackhdWs">RackHD Websocket URL</label>
        <label for="rackhdWs"
          aria-haspopup="true"
          role="tooltip"
          class="tooltip tooltip-validation tooltip-sm tooltip-bottom-left"
          [class.invalid]="formClassInvalid('rackhdWebsocketUrl')">
          <input type="text" id="rackhdWs"
            placeholder="127.0.0.1:9100"
            formControlName="rackhdWebsocketUrl">
          <span class="tooltip-content">
            Invalid Websocket URL.
          </span>
        </label>
      </div>
      <div class="form-group">
        <label for="rackhdElastic">RackHD Elasticsearch API</label>
        <label for="rackhdElastic"
          aria-haspopup="true"
          role="tooltip"
          class="tooltip tooltip-validation tooltip-sm tooltip-bottom-left"
          [class.invalid]="formClassInvalid('rackhdElasticApi')">
          <input type="text" id="rackhdElasticApi"
            placeholder="127.0.0.1:9200"
            formControlName="rackhdElasticApi">
          <span class="tooltip-content">
           Invalid Elasticsearch API.
          </span>
        </label>
      </div>

      <!-- ----------------------------Auth--------------------------------- -->
      <!--Krein: can not use form-group/ngModel-->
      <div class="check-box" style="margin-bottom: 1em;">
        <clr-checkbox
          name="checkSecureEnable"
          id="secureConnEnable"
          [(clrChecked)]="rackhdSslEnabled">
          Enable Secure Connections
        </clr-checkbox>
      </div>

      <div class="check-box" style="margin-bottom: 1em;">
        <clr-checkbox
          name="checkAuthEnable"
          id="authEnable"
          [(clrChecked)]="rackhdAuthEnabled">
          Enable Authentication
        </clr-checkbox>
      </div>

      <section formGroupName="rackhdAuth">
        <div class="form-group">
          <label for="rackhdUser">RackHD API Username</label>
          <label for="rackhhUser"
            aria-haspopup="true"
            role="tooltip"
            class="tooltip tooltip-validation tooltip-xs"
            [class.invalid]="formClassInvalid('rackhdAuth.rackhdUsername')">
            <input type="text" id="rackhdUsername" formControlName="rackhdUsername">
            <span class="tooltip-content">
              Username required.
            </span>
          </label>
        </div>
        <div class="form-group">
          <label for="rackhdPassword">RackHD API Password</label>
          <label for="rackhdPassword"
            aria-haspopup="true"
            role="tooltip"
            class="tooltip tooltip-validation tooltip-md"
            [class.invalid]="formClassInvalid('rackhdAuth.rackhdPassword')">
            <input type="password" id="rackhdPwd" formControlName="rackhdPassword">
            <span class="tooltip-content">
              Password required.
            </span>
          </label>
        </div>
        <div class="form-group">
          <label for="rackhdAuthToken">RackHD API Auth Token</label>
          <label for="rackhdAuthToken"
            aria-haspopup="true"
            role="tooltip"
            class="tooltip tooltip-validation tooltip-md"
            [class.invalid]="formClassInvalid('rackhdAuth.rackhdAuthToken')">
            <input type="text" id="rackhdAuthToken" formControlName="rackhdAuthToken">
            <span class="tooltip-content">
              Authentication Token required.
            </span>
          </label>
        </div>
      </section>
    </section>
    <clr-button-group>
      <clr-button type="reset" class="btn-primary" (click)="setDefaultSettings()">Default</clr-button>
      <clr-button type="submit"
        class="btn btn-success"
        [disabled]="settingFormGroup.invalid">Save</clr-button>
    </clr-button-group>
  </form>
</div>
