<div class="container">
  <!--Krein: W/O div, No provider for ControlContainer!-->
  <form [formGroup]="settingFormGroup" (ngSubmit)="onSubmit()" [hidden]="submitted" novalidate>
    <section class="form-block compact">
      <div class="form-group">
        <label for="rackhdApi">RackHD Northbound API</label>
        <label for="rackhdApi"
          aria-haspopup="true"
          role="tooltip"
          class="tooltip tooltip-validation tooltip-md"
          [class.invalid]="formClassInvalid('rackhdNorthboundApi')">
          <input type="text" id="rackhdApi"
          placeholder="127.0.0.1:9090/api/2.0"
          formControlName="rackhdNorthboundApi" >
          <span class="tooltip-content">
            RackHD Northbound API is required.
          </span>
        </label>
      </div>
      <div class="form-group">
        <label for="rackhdWs">RackHD Websocket URL</label>
        <label for="rackhdWs"
          aria-haspopup="true"
          role="tooltip"
          class="tooltip tooltip-validation tooltip-md"
          [class.invalid]="formClassInvalid('rackhdWsUrl')">
          <input type="text" id="rackhdWs"
          placeholder="127.0.0.1:9100"
          formControlName="rackhdWsUrl">
          <span class="tooltip-content">
            RackHD Websocket URL is required.
          </span>
        </label>
      </div>
      <div class="form-group">
        <label for="rackhdElastic">RackHD Elasticsearch API</label>
        <label for="rackhdElastic"
          aria-haspopup="true"
          role="tooltip"
          class="tooltip tooltip-validation tooltip-md"
          [class.invalid]="formClassInvalid('rackhdElasticApi')">
          <input type="text" id="rackhdElasticApi"
          placeholder="127.0.0.1:9200"
          formControlName="rackhdElasticApi">
          <span class="tooltip-content">
            RackHD Elasticsearch API is required.
          </span>
        </label>
      </div>

      <!-- ----------------------------Auth--------------------------------- -->
      <!--Krein: can not use form-group/ngModel-->
      <div class="check-box" style="margin-bottom: 1em;">
        <clr-checkbox
          name="authEnable"
          id="authEnable"
          formControlName="rackhdAuthEnabled">
          Enable Authetication
        </clr-checkbox>
      </div>

      <section style="margin-left: 1em;">
      <div class="form-group">
        <label for="rackhdUser">RackHD API Username</label>
        <label for="rackhhUser"
          aria-haspopup="true"
          role="tooltip"
          class="tooltip tooltip-validation tooltip-md"
          [class.invalid]="formClassInvalid('rackhdUsername')">
          <input type="text" id="rackhdUsername" formControlName="rackhdUsername">
          <span class="tooltip-content">
            RackHD Username is required for authentication.
          </span>
        </label>
      </div>
      <div class="form-group">
        <label for="rackhdPassword">RackHD API Password</label>
        <label for="rackhdPassword"
          aria-haspopup="true"
          role="tooltip"
          class="tooltip tooltip-validation tooltip-md"
          [class.invalid]="formClassInvalid('rackhdPassword')">
          <input type="password" id="rackhdPwd" formControlName="rackhdPassword">
          <span class="tooltip-content">
            RackHD Password is required for authentication.
          </span>
        </label>
      </div>
      <div class="form-group">
        <label for="rackhdAuthToken">RackHD API Auth Token</label>
        <label for="rackhdAuthToken"
          aria-haspopup="true"
          role="tooltip"
          class="tooltip tooltip-validation tooltip-md"
          [class.invalid]="formClassInvalid('rackhdAuthToken')">
          <input type="text" id="rackhdAuthToken" formControlName="rackhdAuthToken">
          <span class="tooltip-content">
            RackHD Authentication Token is required.
          </span>
        </label>
      </div>
      </section>
      <clr-checkbox
        name="secureConnEnable"
        id="secureConnEnable"
        formControlName="rackhdSslEnabled">
        Enable Secure Connections
      </clr-checkbox>
    </section>
    <clr-button-group>
      <clr-button type="reset" class="btn-primary" (click)="setDefaultSettings()">Default</clr-button>
      <clr-button type="submit" class="btn btn-success" [disabled]="settingFormGroup.invalid">Save</clr-button>
    </clr-button-group>
  </form>
</div>
